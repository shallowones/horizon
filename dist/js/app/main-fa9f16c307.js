"use strict";!function(y,k,x,O,z){y(function(){var i="active",o="show",s="open",e=y(O),t=y(z),a=y(".page"),r=y(".js-weather"),l=y(".weather-hidden");r.on("click",function(e){var t=y(e.currentTarget),n=y(t.data("target"));r.removeClass(i),l.removeClass(o),t.addClass(i),n.addClass(o)});var n=y(".js-clients"),c=y(".clients-area");n.on("click",function(e){var t=y(e.currentTarget);if(!t.hasClass(i)){var n=y(t.data("target")),s=n.html(),o=c.html(),a=y(".js-clients.active");if(o.length)y(a.data("target")).html(o);a.removeClass(i),c.html(s),t.addClass(i),n.html("")}}),y(".js-accordion").on("click",function(e){var t=y(e.currentTarget),n=t.hasClass(i);t.toggleClass(i,!n),t.parent().find(".accordion-hidden").slideToggle(n)}),y(".js-select").SumoSelect(),new x("Tooltip",{attach:".js-pin",trigger:"click",offset:{x:0,y:29},zIndex:10,closeOnClick:"body",animation:"move",fade:300,onInit:function(){var n=this;[e.find("html"),a].some(function(e){var t="auto"===e.css("overflow-y");return t&&e.on("scroll",n.close.bind(n)),t})},onOpen:function(){var e=this.source.find("div[hidden]").html();this.setContent(e),this.content.find("i").on("click",this.close.bind(this))}}),new k(".js-slider",{slidesPerView:"auto",navigation:{nextEl:".js-slider-next",prevEl:".js-slider-prev"}});var d=y(".mobile"),h=y(".js-mobile");h.on("click",function(e){var t=y(e.currentTarget),n=t.hasClass(s);t.toggleClass(s,!n),d.slideToggle(!n)}),d.find(".mobile-menu button").on("click",function(e){var t=y(e.currentTarget),n=t.hasClass(s);t.toggleClass(s,!n),t.parent().find(".mobile-menu-sub").slideToggle(!n)}),t.resize(function(e){1024<e.currentTarget.innerWidth&&(h.removeClass(s),d.removeAttr("style"),d.find(".mobile-menu button").removeClass(s),d.find(".mobile-menu-sub").removeAttr("style"))});var f=y(".js-search");f.on("click",function(e){var t=y(e.currentTarget),n=y(t.data("target")),s=t.hasClass(i);t.toggleClass(i,!s),n.toggleClass(o,!s),s||setTimeout(function(){n.find("input").focus()},500)});var u=function(){f.each(function(e,t){var n=y(t),s=y(n.data("target"));n.removeClass(i),s.removeClass(o)})};e.scroll(u),t.resize(function(){"text"!==O.activeElement.type&&f.hasClass(i)&&u()});var v=".js-modal",m=function(e){e.find(".js-file").jfilestyle({text:"Выбрать...",placeholder:"Выберите файл",dragdrop:!1})};m(e);var g=new x("Modal",{attach:v,closeOnClick:!1,closeButton:!1,onOpen:function(){var e=this.source.parent().find("[hidden]");e.find(".js-file").jfilestyle("destroy");var t=e.html();e.html(""),this.setContent(t),m(this.content),this.content.find("[data-close]").on("click",this.close.bind(this));var n,s=z.grecaptcha,o=this.content.find(".g-recaptcha");void 0!==(n=o)&&n.length&&void 0!==s&&s.hasOwnProperty("render")&&(o.html(""),s.render(o[0]))},onCloseComplete:function(){var e=this.source.parent().find("[hidden]");this.content.find(".js-file").jfilestyle("destroy");var t=this.content.html();this.setContent(""),e.html(t)}});e.on("procurementAjaxComplete",function(e){var t=y(e.currentTarget);g.attach(t.find(v))});var C="fixed-scroll-top",p="fixed-scroll-bottom",j=y(".header-bottom__wrap"),b=y(".header-bottom"),T=b.offset().top,w=0;a.scroll(function(e){var t=b.offset().top,n=e.currentTarget.scrollTop;t+T<n?n<w?200+t<w-n&&(j.removeClass(p),j.addClass(C),w=n):(j.hasClass(C)&&(j.removeClass(C),j.addClass(p)),w=n):j.removeClass(C+" "+p)})})}(jQuery,Swiper,jBox,document,window);